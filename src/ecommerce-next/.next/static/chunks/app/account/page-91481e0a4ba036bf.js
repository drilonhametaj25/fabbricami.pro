(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{6246:function(t,e,r){Promise.resolve().then(r.bind(r,610))},610:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return h}});var o=r(7437),i=r(7648),a=r(4794),s=r(8997),n=r(3774),l=r(2449),c=r(8717),d=r(172);function h(){let{customer:t}=(0,c.t)(),{items:e}=(0,d.Y)(),r=[{href:"/account/orders",icon:a.Z,label:"I Miei Ordini",description:"Visualizza e traccia i tuoi ordini"},{href:"/account/wishlist",icon:s.Z,label:"Lista Desideri",description:"".concat(e.length," prodotti salvati")},{href:"/account/addresses",icon:n.Z,label:"Indirizzi",description:"Gestisci i tuoi indirizzi"},{href:"/shop",icon:l.Z,label:"Continua lo Shopping",description:"Esplora i nostri prodotti"}];return(0,o.jsxs)("div",{className:"space-y-8",children:[(0,o.jsxs)("div",{className:"bg-surface-card rounded-2xl p-6",children:[(0,o.jsxs)("h2",{className:"font-display text-2xl font-semibold text-white mb-2",children:["Ciao, ",(null==t?void 0:t.firstName)||"Cliente","!"]}),(0,o.jsx)("p",{className:"text-text-secondary",children:"Da qui puoi gestire il tuo account, visualizzare i tuoi ordini e molto altro."})]}),(0,o.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(t=>{let e=t.icon;return(0,o.jsx)(i.default,{href:t.href,className:"bg-surface-card rounded-2xl p-6 hover:bg-surface-raised transition-colors group",children:(0,o.jsxs)("div",{className:"flex items-start gap-4",children:[(0,o.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gold/10 flex items-center justify-center group-hover:bg-gold/20 transition-colors",children:(0,o.jsx)(e,{className:"w-6 h-6 text-gold"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"font-medium text-white group-hover:text-gold transition-colors",children:t.label}),(0,o.jsx)("p",{className:"text-sm text-text-secondary mt-1",children:t.description})]})]})},t.href)})}),(0,o.jsxs)("div",{className:"bg-surface-card rounded-2xl p-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsx)("h2",{className:"font-display text-xl font-semibold text-white",children:"Ordini Recenti"}),(0,o.jsx)(i.default,{href:"/account/orders",className:"text-gold hover:underline text-sm",children:"Vedi tutti"})]}),(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)(a.Z,{className:"w-12 h-12 text-text-muted mx-auto mb-4"}),(0,o.jsx)("p",{className:"text-text-secondary",children:"Nessun ordine recente"}),(0,o.jsx)(i.default,{href:"/shop",className:"inline-block mt-4 text-gold hover:underline",children:"Inizia lo shopping"})]})]})]})}},9116:function(t,e,r){"use strict";function o(t){localStorage.setItem("cart_session_id",t)}async function i(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{params:r,headers:o,...i}=e,a=t.startsWith("http")?t:"".concat("http://localhost:3000/api/v1").concat(t);if(r){let t=new URLSearchParams;Object.entries(r).forEach(e=>{let[r,o]=e;null!=o&&t.append(r,String(o))});let e=t.toString();e&&(a+="?".concat(e))}let s={"Content-Type":"application/json",...o},n=localStorage.getItem("cart_session_id");n&&(s["X-Session-Id"]=n);let l=localStorage.getItem("auth_token");l&&(s.Authorization="Bearer ".concat(l));let c=await fetch(a,{...i,headers:s});if(!c.ok)throw Error((await c.json().catch(()=>({}))).error||"API Error: ".concat(c.status));let d=await c.json();if(!d.success&&d.error)throw Error(d.error);return d.data}r.d(e,{hi:function(){return a},xr:function(){return o}});let a={get:(t,e)=>i(t,{method:"GET",params:e}),post:(t,e)=>i(t,{method:"POST",body:e?JSON.stringify(e):void 0}),put:(t,e)=>i(t,{method:"PUT",body:e?JSON.stringify(e):void 0}),patch:(t,e)=>i(t,{method:"PATCH",body:e?JSON.stringify(e):void 0}),delete:t=>i(t,{method:"DELETE"})}},9763:function(t,e,r){"use strict";r.d(e,{Z:function(){return s}});var o=r(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),s=(t,e)=>{let r=(0,o.forwardRef)((r,s)=>{let{color:n="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:h="",children:u,...g}=r;return(0,o.createElement)("svg",{ref:s,...i,width:l,height:l,stroke:n,strokeWidth:d?24*Number(c)/Number(l):c,className:["lucide","lucide-".concat(a(t)),h].join(" "),...g},[...e.map(t=>{let[e,r]=t;return(0,o.createElement)(e,r)}),...Array.isArray(u)?u:[u]])});return r.displayName="".concat(t),r}},8997:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});let o=(0,r(9763).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3774:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});let o=(0,r(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4794:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});let o=(0,r(9763).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},2449:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});let o=(0,r(9763).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},7648:function(t,e,r){"use strict";r.d(e,{default:function(){return i.a}});var o=r(2972),i=r.n(o)},8717:function(t,e,r){"use strict";r.d(e,{t:function(){return s}});var o=r(9625),i=r(6885),a=r(9116);let s=(0,o.Ue)()((0,i.tJ)((t,e)=>({customer:null,token:null,loading:!1,error:null,login:async(e,r)=>{t({loading:!0,error:null});try{let o=await a.hi.post("/shop/auth/login",{email:e,password:r});localStorage.setItem("auth_token",o.token),t({customer:o.customer,token:o.token,loading:!1})}catch(e){throw t({error:e.message,loading:!1}),e}},register:async e=>{t({loading:!0,error:null});try{let r=await a.hi.post("/shop/auth/register",e);localStorage.setItem("auth_token",r.token),t({customer:r.customer,token:r.token,loading:!1})}catch(e){throw t({error:e.message,loading:!1}),e}},logout:()=>{localStorage.removeItem("auth_token"),t({customer:null,token:null,error:null})},fetchProfile:async()=>{t({loading:!0,error:null});try{let e=await a.hi.get("/shop/auth/me");t({customer:e,loading:!1})}catch(r){e().logout(),t({error:r.message,loading:!1})}},updateProfile:async e=>{t({loading:!0,error:null});try{let r=await a.hi.patch("/shop/auth/profile",e);t({customer:r,loading:!1})}catch(e){throw t({error:e.message,loading:!1}),e}},forgotPassword:async e=>{t({loading:!0,error:null});try{await a.hi.post("/shop/auth/forgot-password",{email:e}),t({loading:!1})}catch(e){throw t({error:e.message,loading:!1}),e}},resetPassword:async(e,r)=>{t({loading:!0,error:null});try{await a.hi.post("/shop/auth/reset-password",{token:e,password:r}),t({loading:!1})}catch(e){throw t({error:e.message,loading:!1}),e}},isAuthenticated:()=>!!e().token&&!!e().customer,fullName:()=>{let t=e().customer;return t?"".concat(t.firstName||""," ").concat(t.lastName||"").trim():""}}),{name:"auth-storage",partialize:t=>({token:t.token,customer:t.customer}),onRehydrateStorage:()=>t=>{(null==t?void 0:t.token)&&localStorage.setItem("auth_token",t.token)}}))},172:function(t,e,r){"use strict";r.d(e,{Y:function(){return a}});var o=r(9625),i=r(9116);let a=(0,o.Ue)((t,e)=>({items:[],loading:!1,error:null,fetchWishlist:async()=>{t({loading:!0,error:null});try{let e=await i.hi.get("/shop/wishlist");t({items:e.items||[],loading:!1})}catch(e){t({error:e.message,loading:!1,items:[]})}},toggle:async(e,r)=>{t({loading:!0,error:null});try{let o=await i.hi.post("/shop/wishlist/toggle",{productId:e,variantId:r});t({items:o.items||[],loading:!1})}catch(e){throw t({error:e.message,loading:!1}),e}},removeItem:async e=>{t({loading:!0,error:null});try{await i.hi.delete("/shop/wishlist/".concat(e)),t(t=>({items:t.items.filter(t=>t.id!==e),loading:!1}))}catch(e){throw t({error:e.message,loading:!1}),e}},clearWishlist:async()=>{t({loading:!0,error:null});try{await i.hi.delete("/shop/wishlist"),t({items:[],loading:!1})}catch(e){throw t({error:e.message,loading:!1}),e}},setRestockNotification:async(e,r)=>{t({loading:!0,error:null});try{let o=await i.hi.patch("/shop/wishlist/".concat(e,"/notify"),{notifyRestock:r});t(t=>({items:t.items.map(t=>t.id===e?{...t,notifyRestock:o.notifyRestock}:t),loading:!1}))}catch(e){throw t({error:e.message,loading:!1}),e}},count:()=>e().items.length,isEmpty:()=>0===e().items.length,isInWishlist:(t,r)=>e().items.some(e=>e.productId===t&&(r?e.variantId===r:!e.variantId))}))}},function(t){t.O(0,[972,883,971,117,744],function(){return t(t.s=6246)}),_N_E=t.O()}]);