(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{7094:function(e,t,s){Promise.resolve().then(s.bind(s,4758))},4758:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return H}});var a=s(7437),l=s(9376),i=s(7648),r=s(521),n=s(9763);let c=(0,n.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var o=s(407),d=s(2265),m=s(3145),x=s(8614),u=s(2451);let h=(0,n.Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var g=s(2489);function p(e){let{images:t,productName:s}=e,[l,i]=(0,d.useState)(0),[n,c]=(0,d.useState)(!1),[p,f]=(0,d.useState)({x:50,y:50}),v=(0,d.useRef)(null),j=t.length>0?t:["/images/placeholder-product.jpg"],y=()=>{i(e=>0===e?j.length-1:e-1)},N=()=>{i(e=>e===j.length-1?0:e+1)},w=e=>{i(e)},b=e=>{"ArrowLeft"===e.key&&y(),"ArrowRight"===e.key&&N(),"Escape"===e.key&&c(!1)};return(0,d.useEffect)(()=>(window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)),[]),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-2xl bg-surface-card",children:[(0,a.jsx)(x.M,{mode:"wait",children:(0,a.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},ref:v,className:"relative w-full h-full cursor-zoom-in",onMouseMove:e=>{if(!v.current)return;let t=v.current.getBoundingClientRect();f({x:(e.clientX-t.left)/t.width*100,y:(e.clientY-t.top)/t.height*100})},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[(0,a.jsx)(m.default,{src:j[l],alt:"".concat(s," - Image ").concat(l+1),fill:!0,className:"object-contain",priority:0===l}),n&&(0,a.jsx)("div",{className:"absolute inset-0 hidden lg:block",style:{backgroundImage:"url(".concat(j[l],")"),backgroundPosition:"".concat(p.x,"% ").concat(p.y,"%"),backgroundSize:"200%",backgroundRepeat:"no-repeat"}})]},l)}),j.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:y,className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-surface-raised/80 backdrop-blur-sm flex items-center justify-center text-white hover:bg-gold transition-colors","aria-label":"Previous image",children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:N,className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-surface-raised/80 backdrop-blur-sm flex items-center justify-center text-white hover:bg-gold transition-colors","aria-label":"Next image",children:(0,a.jsx)(o.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("button",{onClick:()=>c(!n),className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-surface-raised/80 backdrop-blur-sm flex items-center justify-center text-white hover:bg-gold transition-colors lg:hidden","aria-label":"Toggle zoom",children:(0,a.jsx)(h,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 rounded-full bg-surface-raised/80 backdrop-blur-sm text-sm text-white",children:[l+1," / ",j.length]})]}),j.length>1&&(0,a.jsx)("div",{className:"flex gap-3 overflow-x-auto pb-2",children:j.map((e,t)=>(0,a.jsx)("button",{onClick:()=>w(t),className:"relative flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden transition-all ".concat(t===l?"ring-2 ring-gold ring-offset-2 ring-offset-primary":"opacity-60 hover:opacity-100"),"aria-label":"View image ".concat(t+1),children:(0,a.jsx)(m.default,{src:e,alt:"".concat(s," thumbnail ").concat(t+1),fill:!0,className:"object-cover"})},t))}),(0,a.jsx)(x.M,{children:n&&(0,a.jsxs)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center lg:hidden",onClick:()=>c(!1),children:[(0,a.jsx)("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-white/20 transition-colors","aria-label":"Close zoom",children:(0,a.jsx)(g.Z,{className:"w-5 h-5"})}),(0,a.jsx)("div",{className:"relative w-full h-full max-w-4xl max-h-[90vh] p-4",children:(0,a.jsx)(m.default,{src:j[l],alt:"".concat(s," - Image ").concat(l+1),fill:!0,className:"object-contain"})})]})})]})}var f=s(1047),v=s(9397),j=s(2252),y=s(401),N=s(2449),w=s(8997),b=s(340),k=s(8906);let S=(0,n.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var Z=s(3947),C=s(172),M=s(4508);function E(e){var t,s,l,i,n,c,o,m,x,u;let{product:h}=e,[g,p]=(0,d.useState)(1),[E,R]=(0,d.useState)((null===(t=h.variants)||void 0===t?void 0:t[0])||null),[I,F]=(0,d.useState)(!1),[A,P]=(0,d.useState)(!1),{addItem:q}=(0,Z.x)(),{isInWishlist:L,toggle:_}=(0,C.Y)(),T=L(h.id),z=(null==E?void 0:E.onSale)&&(null==E?void 0:E.salePrice),H=h.onSale&&h.salePrice,U=z||H,V=U?null!==(n=null!==(i=null==E?void 0:E.salePrice)&&void 0!==i?i:h.salePrice)&&void 0!==n?n:h.price:null!==(c=null==E?void 0:E.price)&&void 0!==c?c:h.price,O=null!==(o=null==E?void 0:E.price)&&void 0!==o?o:h.price,W=U&&O>V?Math.round((1-V/O)*100):0,Y=E?E.inStock:!1!==h.inStock,B=null!==(x=null!==(m=null==E?void 0:E.stockQuantity)&&void 0!==m?m:h.stockQuantity)&&void 0!==x?x:999,D=Y&&B>0&&B<=5,Q=e=>{p(t=>{let s=t+e;return s<1?1:s>B?B:s})},J=async()=>{if(Y&&!I){F(!0);try{await q(h.id,g,null==E?void 0:E.id),P(!0),setTimeout(()=>P(!1),2e3)}catch(e){console.error("Failed to add to cart:",e)}finally{F(!1)}}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:(null===(s=h.categories)||void 0===s?void 0:s[0])&&(0,a.jsx)("span",{className:"text-gold",children:h.categories[0].name})}),(0,a.jsx)("h1",{className:"font-display text-3xl md:text-4xl font-semibold text-white",children:h.name}),(null!==(u=h.reviewCount)&&void 0!==u?u:0)>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)("svg",{className:"w-5 h-5 ".concat(t<Math.round(h.averageRating||h.rating||0)?"text-gold":"text-gray-600"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),(0,a.jsxs)("span",{className:"text-text-secondary",children:[null===(l=h.rating)||void 0===l?void 0:l.toFixed(1)," (",h.reviewCount," reviews)"]})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,a.jsx)("span",{className:"text-3xl font-semibold text-gold",children:(0,M.T4)(V)}),U&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-lg text-text-muted line-through",children:(0,M.T4)(O)}),(0,a.jsxs)("span",{className:"px-2 py-1 bg-error/20 text-error text-sm font-medium rounded",children:["-",W,"%"]})]})]}),h.shortDescription&&(0,a.jsx)("p",{className:"text-text-secondary leading-relaxed",children:h.shortDescription}),h.variants&&h.variants.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-white",children:"Variant"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:h.variants.map(e=>(0,a.jsxs)("button",{onClick:()=>R(e),disabled:!e.inStock,className:"px-4 py-2 rounded-lg border transition-all ".concat((null==E?void 0:E.id)===e.id?"border-gold bg-gold/10 text-gold":e.inStock?"border-white/10 text-white hover:border-gold/50":"border-gray-700 text-gray-600 cursor-not-allowed"),children:[e.name,!e.inStock&&(0,a.jsx)("span",{className:"ml-2 text-xs",children:"(Out of Stock)"})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-white",children:"Quantity"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center border border-white/10 rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>Q(-1),disabled:g<=1,className:"p-3 text-white hover:text-gold disabled:text-gray-600 transition-colors","aria-label":"Decrease quantity",children:(0,a.jsx)(f.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"w-12 text-center text-white font-medium",children:g}),(0,a.jsx)("button",{onClick:()=>Q(1),disabled:g>=B,className:"p-3 text-white hover:text-gold disabled:text-gray-600 transition-colors","aria-label":"Increase quantity",children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})})]}),Y?(0,a.jsx)("span",{className:"flex items-center gap-1.5 text-sm ".concat(D?"text-warning":"text-success"),children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),"Only ",B," left"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),"In Stock"]})}):(0,a.jsxs)("span",{className:"flex items-center gap-1.5 text-sm text-error",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),"Out of Stock"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(r.E.button,{onClick:J,disabled:!Y||I,className:"flex-1 btn-primary btn-large justify-center ".concat(Y?"":"opacity-50 cursor-not-allowed"),whileTap:{scale:.98},children:I?(0,a.jsx)("span",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}):A?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Z,{className:"w-5 h-5"}),"Added"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.Z,{className:"w-5 h-5"}),Y?"Add to Cart":"Unavailable"]})}),(0,a.jsx)(r.E.button,{onClick:()=>{_(h.id)},className:"w-14 h-14 rounded-xl border flex items-center justify-center transition-all ".concat(T?"border-gold bg-gold/10 text-gold":"border-white/10 text-white hover:border-gold/50 hover:text-gold"),whileTap:{scale:.95},"aria-label":T?"Remove from wishlist":"Add to wishlist",children:(0,a.jsx)(w.Z,{className:"w-5 h-5 ".concat(T?"fill-current":"")})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-text-secondary",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-surface-card flex items-center justify-center",children:(0,a.jsx)(b.Z,{className:"w-5 h-5 text-gold"})}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Free Shipping"}),(0,a.jsx)("p",{children:"Orders over 50"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-text-secondary",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-surface-card flex items-center justify-center",children:(0,a.jsx)(k.Z,{className:"w-5 h-5 text-gold"})}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Warranty"}),(0,a.jsx)("p",{children:"Authentic products"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-text-secondary",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-surface-card flex items-center justify-center",children:(0,a.jsx)(S,{className:"w-5 h-5 text-gold"})}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"text-white font-medium",children:"Easy Returns"}),(0,a.jsx)("p",{children:"30 days"})]})]})]}),h.description&&(0,a.jsxs)("div",{className:"pt-6 border-t border-white/10",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Description"}),(0,a.jsx)("div",{className:"text-text-secondary leading-relaxed prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:h.description}})]}),h.sku&&(0,a.jsxs)("p",{className:"text-sm text-text-muted",children:["SKU: ",(null==E?void 0:E.sku)||h.sku]})]})}var R=s(6595),I=s(2369);let F=(0,n.Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);var A=s(9116),P=s(8717);function q(e){let{productId:t}=e,[s,l]=(0,d.useState)(1),[i,n]=(0,d.useState)(!1),{reviews:c,total:o,average:m,distribution:u,loading:h,refetch:g}=function(e){let{productId:t,page:s=1,limit:a=10}=e,[l,i]=(0,d.useState)([]),[r,n]=(0,d.useState)(0),[c,o]=(0,d.useState)(0),[m,x]=(0,d.useState)({}),[u,h]=(0,d.useState)(!0),[g,p]=(0,d.useState)(null),f=(0,d.useCallback)(async()=>{if(t){h(!0),p(null);try{let e=await A.hi.get("/shop/products/".concat(t,"/reviews"),{page:s,limit:a});e.success&&e.data&&(i(e.data.items||[]),n(e.data.total||0),o(e.data.average||0),x(e.data.distribution||{}))}catch(e){p(e instanceof Error?e.message:"Failed to fetch reviews")}finally{h(!1)}}},[t,s,a]);return(0,d.useEffect)(()=>{f()},[f]),{reviews:l,total:r,average:c,distribution:m,loading:u,error:g,refetch:f}}({productId:t,page:s,limit:5}),{isAuthenticated:p}=(0,P.t)(),f=Math.ceil(o/5);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,a.jsxs)("h2",{className:"font-display text-2xl font-semibold text-white",children:["Reviews (",o,")"]}),p()&&(0,a.jsx)("button",{onClick:()=>n(!i),className:"btn-primary btn-medium",children:"Write a Review"})]}),o>0&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6 bg-surface-card rounded-2xl",children:[(0,a.jsx)("div",{className:"flex items-center gap-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("span",{className:"text-5xl font-bold text-gold",children:m.toFixed(1)}),(0,a.jsx)("div",{className:"flex items-center justify-center gap-1 mt-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(R.Z,{className:"w-5 h-5 ".concat(t<Math.round(m)?"text-gold fill-current":"text-gray-600")},t))}),(0,a.jsxs)("p",{className:"text-sm text-text-secondary mt-1",children:[o," reviews"]})]})}),(0,a.jsx)("div",{className:"space-y-2",children:[5,4,3,2,1].map(e=>{let t=u[e]||0,s=o>0?t/o*100:0;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary w-3",children:e}),(0,a.jsx)(R.Z,{className:"w-4 h-4 text-gold fill-current"}),(0,a.jsx)("div",{className:"flex-1 h-2 bg-surface-raised rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gold transition-all duration-300",style:{width:"".concat(s,"%")}})}),(0,a.jsx)("span",{className:"text-sm text-text-muted w-8",children:t})]},e)})})]}),(0,a.jsx)(x.M,{children:i&&(0,a.jsx)(r.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:(0,a.jsx)(_,{productId:t,onSuccess:()=>{n(!1),g()},onCancel:()=>n(!1)})})}),h?(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"animate-pulse p-6 bg-surface-card rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-surface-raised"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-24 mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-surface-raised rounded w-32"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-3/4"})]})]},t))}):c.length>0?(0,a.jsx)("div",{className:"space-y-4",children:c.map(e=>(0,a.jsx)(L,{review:e},e.id))}):(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-text-secondary",children:"No reviews yet. Be the first to review this product!"})}),f>1&&(0,a.jsx)("div",{className:"flex justify-center gap-2",children:[...Array(f)].map((e,t)=>(0,a.jsx)("button",{onClick:()=>l(t+1),className:"w-10 h-10 rounded-lg transition-colors ".concat(s===t+1?"bg-gold text-primary":"bg-surface-card text-white hover:bg-surface-raised"),children:t+1},t))})]})}function L(e){var t,s,l,i;let{review:r}=e,[n,c]=(0,d.useState)(!1),o=r.comment||"",m=o.length>300,x=r.customerName||((null===(t=r.customer)||void 0===t?void 0:t.firstName)&&(null===(s=r.customer)||void 0===s?void 0:s.lastName)?"".concat(r.customer.firstName," ").concat(r.customer.lastName):"Verified Customer");return(0,a.jsxs)("div",{className:"p-6 bg-surface-card rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-gold/20 flex items-center justify-center",children:(0,a.jsx)(I.Z,{className:"w-5 h-5 text-gold"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-white",children:x}),r.verified&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-success/20 text-success text-xs rounded",children:"Verified"})]}),(0,a.jsx)("span",{className:"text-sm text-text-muted",children:(0,M.p6)(r.createdAt)})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(R.Z,{className:"w-4 h-4 ".concat(t<r.rating?"text-gold fill-current":"text-gray-600")},t))})]}),r.title&&(0,a.jsx)("h4",{className:"font-medium text-white mb-2",children:r.title}),o&&(0,a.jsx)("p",{className:"text-text-secondary leading-relaxed",children:m&&!n?(0,a.jsxs)(a.Fragment,{children:[o.slice(0,300),"...",(0,a.jsx)("button",{onClick:()=>c(!0),className:"ml-2 text-gold hover:underline",children:"Read more"})]}):o}),(0,a.jsx)("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-white/5",children:(0,a.jsxs)("button",{className:"flex items-center gap-2 text-sm text-text-secondary hover:text-gold transition-colors",children:[(0,a.jsx)(F,{className:"w-4 h-4"}),"Helpful (",null!==(i=null!==(l=r.helpfulCount)&&void 0!==l?l:r.helpful)&&void 0!==i?i:0,")"]})})]})}function _(e){let{productId:t,onSuccess:s,onCancel:l}=e,[i,r]=(0,d.useState)(5),[n,c]=(0,d.useState)(""),[o,m]=(0,d.useState)(""),[x,u]=(0,d.useState)(0),{createReview:h,loading:g,error:p}=function(e){let[t,s]=(0,d.useState)(!1),[a,l]=(0,d.useState)(null);return{createReview:async t=>{s(!0),l(null);try{let s=await A.hi.post("/shop/products/".concat(e,"/reviews"),t);if(s.success)return s.data;throw Error("Failed to create review")}catch(e){throw l(e instanceof Error?e.message:"Failed to create review"),e}finally{s(!1)}},loading:t,error:a}}(t),f=async e=>{if(e.preventDefault(),o.trim())try{await h({rating:i,title:n,comment:o}),s()}catch(e){}};return(0,a.jsxs)("form",{onSubmit:f,className:"p-6 bg-surface-card rounded-2xl space-y-6",children:[(0,a.jsx)("h3",{className:"font-display text-xl font-semibold text-white",children:"Write a Review"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-white",children:"Your Rating"}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>r(e),onMouseEnter:()=>u(e),onMouseLeave:()=>u(0),className:"p-1",children:(0,a.jsx)(R.Z,{className:"w-8 h-8 transition-colors ".concat(e<=(x||i)?"text-gold fill-current":"text-gray-600")})},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"review-title",className:"text-sm font-medium text-white",children:"Title (optional)"}),(0,a.jsx)("input",{id:"review-title",type:"text",value:n,onChange:e=>c(e.target.value),placeholder:"Summarize your experience",className:"w-full px-4 py-3 bg-surface-raised border border-white/10 rounded-lg text-white placeholder-text-muted focus:outline-none focus:border-gold/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"review-comment",className:"text-sm font-medium text-white",children:"Your Review"}),(0,a.jsx)("textarea",{id:"review-comment",value:o,onChange:e=>m(e.target.value),placeholder:"Share your experience with this product...",rows:4,required:!0,className:"w-full px-4 py-3 bg-surface-raised border border-white/10 rounded-lg text-white placeholder-text-muted focus:outline-none focus:border-gold/50 resize-none"})]}),p&&(0,a.jsx)("p",{className:"text-sm text-error",children:p}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{type:"submit",disabled:g||!o.trim(),className:"btn-primary btn-medium flex-1 justify-center",children:g?(0,a.jsx)("span",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}):"Submit Review"}),(0,a.jsx)("button",{type:"button",onClick:l,className:"btn-secondary btn-medium",children:"Cancel"})]})]})}var T=s(4527),z=s(171);function H(){var e,t;let s=(0,l.useParams)().slug,{product:n,loading:d,error:m}=(0,z.iB)(s),{products:x,loading:u}=(0,z.ym)(4);if(d)return(0,a.jsx)("div",{className:"min-h-screen bg-primary pt-28",children:(0,a.jsx)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-64 mb-8"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[(0,a.jsx)("div",{className:"aspect-square bg-surface-card rounded-2xl"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-32"}),(0,a.jsx)("div",{className:"h-10 bg-surface-raised rounded w-3/4"}),(0,a.jsx)("div",{className:"h-8 bg-surface-raised rounded w-24"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-full"}),(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-5/6"}),(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-4/6"})]}),(0,a.jsx)("div",{className:"h-14 bg-surface-raised rounded"})]})]})]})})});if(m||!n)return(0,a.jsx)("div",{className:"min-h-screen bg-primary pt-28 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"font-display text-3xl font-semibold text-white mb-4",children:"Product Not Found"}),(0,a.jsx)("p",{className:"text-text-secondary mb-8",children:"The product you are looking for does not exist or has been removed."}),(0,a.jsxs)(i.default,{href:"/shop",className:"btn-primary btn-large",children:[(0,a.jsx)(c,{className:"w-5 h-5"}),"Back to Shop"]})]})});let h=null===(e=n.categories)||void 0===e?void 0:e[0];return(0,a.jsx)("div",{className:"min-h-screen bg-primary pt-28",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[(0,a.jsxs)("nav",{className:"flex items-center gap-2 text-sm mb-8 overflow-x-auto whitespace-nowrap",children:[(0,a.jsx)(i.default,{href:"/",className:"text-text-secondary hover:text-gold transition-colors",children:"Home"}),(0,a.jsx)(o.Z,{className:"w-4 h-4 text-text-muted flex-shrink-0"}),(0,a.jsx)(i.default,{href:"/shop",className:"text-text-secondary hover:text-gold transition-colors",children:"Shop"}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 text-text-muted flex-shrink-0"}),(0,a.jsx)(i.default,{href:"/shop?category=".concat(h.slug),className:"text-text-secondary hover:text-gold transition-colors",children:h.name})]}),(0,a.jsx)(o.Z,{className:"w-4 h-4 text-text-muted flex-shrink-0"}),(0,a.jsx)("span",{className:"text-gold truncate",children:n.name})]}),(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[(0,a.jsx)(p,{images:(null===(t=n.images)||void 0===t?void 0:t.map(e=>"string"==typeof e?e:e.url))||(n.imageUrl?[n.imageUrl]:[]),productName:n.name}),(0,a.jsx)(E,{product:n})]}),(0,a.jsx)(r.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-16 lg:mt-24",children:(0,a.jsx)(q,{productId:n.id})}),(0,a.jsxs)(r.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-16 lg:mt-24",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("h2",{className:"font-display text-2xl md:text-3xl font-semibold text-white",children:"You May Also Like"}),(0,a.jsx)(i.default,{href:"/shop",className:"text-gold hover:underline hidden sm:block",children:"View All"})]}),u?(0,a.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"bg-surface-card rounded-2xl overflow-hidden animate-pulse",children:[(0,a.jsx)("div",{className:"aspect-square bg-surface-raised"}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-surface-raised rounded w-1/2"})]})]},t))}):(0,a.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:x.filter(e=>e.id!==n.id).slice(0,4).map(e=>(0,a.jsx)(T.I,{product:e},e.id))})]})]})})}},2252:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},401:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},2451:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},407:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},1047:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8906:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},340:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8717:function(e,t,s){"use strict";s.d(t,{t:function(){return r}});var a=s(9625),l=s(6885),i=s(9116);let r=(0,a.Ue)()((0,l.tJ)((e,t)=>({customer:null,token:null,loading:!1,error:null,login:async(t,s)=>{e({loading:!0,error:null});try{let a=await i.hi.post("/shop/auth/login",{email:t,password:s});localStorage.setItem("auth_token",a.token),e({customer:a.customer,token:a.token,loading:!1})}catch(t){throw e({error:t.message,loading:!1}),t}},register:async t=>{e({loading:!0,error:null});try{let s=await i.hi.post("/shop/auth/register",t);localStorage.setItem("auth_token",s.token),e({customer:s.customer,token:s.token,loading:!1})}catch(t){throw e({error:t.message,loading:!1}),t}},logout:()=>{localStorage.removeItem("auth_token"),e({customer:null,token:null,error:null})},fetchProfile:async()=>{e({loading:!0,error:null});try{let t=await i.hi.get("/shop/auth/me");e({customer:t,loading:!1})}catch(s){t().logout(),e({error:s.message,loading:!1})}},updateProfile:async t=>{e({loading:!0,error:null});try{let s=await i.hi.patch("/shop/auth/profile",t);e({customer:s,loading:!1})}catch(t){throw e({error:t.message,loading:!1}),t}},forgotPassword:async t=>{e({loading:!0,error:null});try{await i.hi.post("/shop/auth/forgot-password",{email:t}),e({loading:!1})}catch(t){throw e({error:t.message,loading:!1}),t}},resetPassword:async(t,s)=>{e({loading:!0,error:null});try{await i.hi.post("/shop/auth/reset-password",{token:t,password:s}),e({loading:!1})}catch(t){throw e({error:t.message,loading:!1}),t}},isAuthenticated:()=>!!t().token&&!!t().customer,fullName:()=>{let e=t().customer;return e?"".concat(e.firstName||""," ").concat(e.lastName||"").trim():""}}),{name:"auth-storage",partialize:e=>({token:e.token,customer:e.customer}),onRehydrateStorage:()=>e=>{(null==e?void 0:e.token)&&localStorage.setItem("auth_token",e.token)}}))},172:function(e,t,s){"use strict";s.d(t,{Y:function(){return i}});var a=s(9625),l=s(9116);let i=(0,a.Ue)((e,t)=>({items:[],loading:!1,error:null,fetchWishlist:async()=>{e({loading:!0,error:null});try{let t=await l.hi.get("/shop/wishlist");e({items:t.items||[],loading:!1})}catch(t){e({error:t.message,loading:!1,items:[]})}},toggle:async(t,s)=>{e({loading:!0,error:null});try{let a=await l.hi.post("/shop/wishlist/toggle",{productId:t,variantId:s});e({items:a.items||[],loading:!1})}catch(t){throw e({error:t.message,loading:!1}),t}},removeItem:async t=>{e({loading:!0,error:null});try{await l.hi.delete("/shop/wishlist/".concat(t)),e(e=>({items:e.items.filter(e=>e.id!==t),loading:!1}))}catch(t){throw e({error:t.message,loading:!1}),t}},clearWishlist:async()=>{e({loading:!0,error:null});try{await l.hi.delete("/shop/wishlist"),e({items:[],loading:!1})}catch(t){throw e({error:t.message,loading:!1}),t}},setRestockNotification:async(t,s)=>{e({loading:!0,error:null});try{let a=await l.hi.patch("/shop/wishlist/".concat(t,"/notify"),{notifyRestock:s});e(e=>({items:e.items.map(e=>e.id===t?{...e,notifyRestock:a.notifyRestock}:e),loading:!1}))}catch(t){throw e({error:t.message,loading:!1}),t}},count:()=>t().items.length,isEmpty:()=>0===t().items.length,isInWishlist:(e,s)=>t().items.some(t=>t.productId===e&&(s?t.variantId===s:!t.variantId))}))}},function(e){e.O(0,[922,972,230,312,883,492,2,121,971,117,744],function(){return e(e.s=7094)}),_N_E=e.O()}]);