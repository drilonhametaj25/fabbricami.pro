(()=>{var e={};e.id=565,e.ids=[565],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7483:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>n}),s(6826),s(6434),s(5866);var a=s(3191),r=s(8716),i=s(7922),l=s.n(i),c=s(5231),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);s.d(t,d);let n=["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6826)),"C:\\Users\\drilo\\workspace\\ecommerce-erp\\src\\ecommerce-next\\app\\cart\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6434)),"C:\\Users\\drilo\\workspace\\ecommerce-erp\\src\\ecommerce-next\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\drilo\\workspace\\ecommerce-erp\\src\\ecommerce-next\\app\\cart\\page.tsx"],x="/cart/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},7952:(e,t,s)=>{Promise.resolve().then(s.bind(s,8360))},8360:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(326),r=s(7577),i=s(434),l=s(6226),c=s(58),d=s(8129),n=s(4565),o=s(4230),x=s(1019),m=s(3855),u=s(8091);let p=(0,s(6557).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);var h=s(4019),j=s(8661),f=s(7863);function g(){let{cart:e,loading:t,updateQuantity:s,removeItem:g,applyCoupon:b,removeCoupon:y}=(0,j.x)(),[N,v]=(0,r.useState)(""),[w,k]=(0,r.useState)(!1),[P,C]=(0,r.useState)(""),[S,q]=(0,r.useState)(new Set),_=async(e,t)=>{if(!(t<1)){q(t=>new Set(t).add(e));try{await s(e,t)}finally{q(t=>{let s=new Set(t);return s.delete(e),s})}}},Z=async e=>{q(t=>new Set(t).add(e));try{await g(e)}finally{q(t=>{let s=new Set(t);return s.delete(e),s})}},T=async e=>{if(e.preventDefault(),N.trim()){k(!0),C("");try{await b(N),v("")}catch(e){C(e instanceof Error?e.message:"Invalid code")}finally{k(!1)}}};return t||e&&0!==e.items.length?a.jsx("div",{className:"min-h-screen bg-primary pt-28",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 lg:px-8 py-8 lg:py-12",children:[(0,a.jsxs)("h1",{className:"font-display text-3xl md:text-4xl font-semibold text-white mb-8",children:["Cart (",e?.items.length||0,")"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2 space-y-4",children:t?[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"bg-surface-card rounded-2xl p-4 animate-pulse flex gap-4",children:[a.jsx("div",{className:"w-24 h-24 bg-surface-raised rounded-lg"}),(0,a.jsxs)("div",{className:"flex-1 space-y-3",children:[a.jsx("div",{className:"h-5 bg-surface-raised rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-surface-raised rounded w-1/2"}),a.jsx("div",{className:"h-6 bg-surface-raised rounded w-24"})]})]},t)):a.jsx(d.M,{mode:"popLayout",children:e?.items.map(e=>a.jsx(c.E.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:`bg-surface-card rounded-2xl p-4 md:p-6 ${S.has(e.id)?"opacity-60":""}`,children:a.jsxs("div",{className:"flex gap-4 md:gap-6",children:[a.jsx(i.default,{href:`/product/${e.product?.slug||e.productId}`,className:"flex-shrink-0",children:a.jsx("div",{className:"relative w-24 h-24 md:w-32 md:h-32 rounded-lg overflow-hidden bg-surface-raised",children:(e.product?.mainImageUrl||e.product?.imageUrl)&&a.jsx(l.default,{src:e.product.mainImageUrl||e.product.imageUrl||"",alt:e.product?.name||"Product",fill:!0,className:"object-cover"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(i.default,{href:`/product/${e.product?.slug||e.productId}`,className:"font-medium text-white hover:text-gold transition-colors line-clamp-2",children:e.product?.name||"Product"}),e.variant&&a.jsxs("p",{className:"text-sm text-text-secondary mt-1",children:["Variant: ",e.variant.name]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-4",children:[a.jsxs("div",{className:"flex items-center border border-white/10 rounded-lg",children:[a.jsx("button",{onClick:()=>_(e.id,e.quantity-1),disabled:e.quantity<=1||S.has(e.id),className:"p-2 text-white hover:text-gold disabled:text-gray-600 transition-colors","aria-label":"Decrease quantity",children:a.jsx(x.Z,{className:"w-4 h-4"})}),a.jsx("span",{className:"w-10 text-center text-white",children:e.quantity}),a.jsx("button",{onClick:()=>_(e.id,e.quantity+1),disabled:S.has(e.id),className:"p-2 text-white hover:text-gold disabled:text-gray-600 transition-colors","aria-label":"Increase quantity",children:a.jsx(m.Z,{className:"w-4 h-4"})})]}),a.jsx("button",{onClick:()=>Z(e.id),disabled:S.has(e.id),className:"text-text-secondary hover:text-error transition-colors","aria-label":"Remove item",children:a.jsx(u.Z,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-semibold text-gold",children:f.T4(e.unitPrice*e.quantity)}),e.quantity>1&&a.jsxs("p",{className:"text-sm text-text-muted",children:[f.T4(e.unitPrice)," each"]})]})]})},e.id))})}),a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-surface-card rounded-2xl p-6 sticky top-24",children:[a.jsx("h2",{className:"font-display text-xl font-semibold text-white mb-6",children:"Order Summary"}),(0,a.jsxs)("form",{onSubmit:T,className:"mb-6",children:[a.jsx("label",{className:"text-sm text-text-secondary mb-2 block",children:"Discount Code"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:N,onChange:e=>v(e.target.value.toUpperCase()),placeholder:"CODICE",className:"flex-1 px-4 py-2 bg-surface-raised border border-white/10 rounded-lg text-white placeholder-text-muted focus:outline-none focus:border-gold/50 uppercase"}),a.jsx("button",{type:"submit",disabled:w||!N.trim(),className:"btn-secondary btn-small",children:w?a.jsx("span",{className:"w-4 h-4 border-2 border-gold border-t-transparent rounded-full animate-spin"}):a.jsx(p,{className:"w-4 h-4"})})]}),P&&a.jsx("p",{className:"text-sm text-error mt-2",children:P})]}),e?.coupon&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-success/10 rounded-lg mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(p,{className:"w-4 h-4 text-success"}),a.jsx("span",{className:"text-success font-medium",children:e.coupon.code})]}),a.jsx("button",{onClick:()=>y(),className:"text-text-muted hover:text-error transition-colors","aria-label":"Remove coupon",children:a.jsx(h.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-text-secondary",children:[a.jsx("span",{children:"Subtotal"}),a.jsx("span",{children:(0,f.T4)(e?.subtotal||0)})]}),e?.discount&&e.discount>0&&(0,a.jsxs)("div",{className:"flex justify-between text-success",children:[a.jsx("span",{children:"Discount"}),(0,a.jsxs)("span",{children:["-",(0,f.T4)(e.discount)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-text-secondary",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:e?.shipping?(0,f.T4)(e.shipping):"Calculated at checkout"})]}),(0,a.jsxs)("div",{className:"pt-3 border-t border-white/10 flex justify-between text-white font-semibold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{className:"text-gold",children:(0,f.T4)(e?.total||0)})]})]}),(0,a.jsxs)(i.default,{href:"/checkout",className:"w-full btn-primary btn-large justify-center",children:["Proceed to Checkout",a.jsx(o.Z,{className:"w-5 h-5"})]}),a.jsx(i.default,{href:"/shop",className:"block text-center text-text-secondary hover:text-gold mt-4 text-sm transition-colors",children:"Continue Shopping"}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/10",children:[a.jsx("p",{className:"text-xs text-text-muted text-center mb-3",children:"Accepted payment methods"}),(0,a.jsxs)("div",{className:"flex justify-center gap-2 opacity-50",children:[a.jsx("div",{className:"w-10 h-6 bg-white rounded"}),a.jsx("div",{className:"w-10 h-6 bg-white rounded"}),a.jsx("div",{className:"w-10 h-6 bg-white rounded"}),a.jsx("div",{className:"w-10 h-6 bg-white rounded"})]})]})]})})]})]})}):a.jsx("div",{className:"min-h-screen bg-primary pt-28 flex items-center justify-center px-4",children:(0,a.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-surface-card flex items-center justify-center mx-auto mb-6",children:a.jsx(n.Z,{className:"w-12 h-12 text-text-muted"})}),a.jsx("h1",{className:"font-display text-3xl font-semibold text-white mb-4",children:"Your cart is empty"}),a.jsx("p",{className:"text-text-secondary mb-8 max-w-md",children:"You haven't added any products to your cart yet. Browse our shop to find the perfect miniatures for you."}),(0,a.jsxs)(i.default,{href:"/shop",className:"btn-primary btn-large",children:["Start Shopping",a.jsx(o.Z,{className:"w-5 h-5"})]})]})})}},4230:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},6826:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\drilo\workspace\ecommerce-erp\src\ecommerce-next\app\cart\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[736,775],()=>s(7483));module.exports=a})();