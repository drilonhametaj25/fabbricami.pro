(()=>{var e={};e.id=21,e.ids=[21],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4898:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>o}),s(3101),s(6434),s(5866);var r=s(3191),a=s(8716),i=s(7922),l=s.n(i),n=s(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["shop",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3101)),"C:\\Users\\drilo\\workspace\\ecommerce-erp\\src\\ecommerce-next\\app\\shop\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6434)),"C:\\Users\\drilo\\workspace\\ecommerce-erp\\src\\ecommerce-next\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\drilo\\workspace\\ecommerce-erp\\src\\ecommerce-next\\app\\shop\\page.tsx"],x="/shop/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/shop/page",pathname:"/shop",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8105:(e,t,s)=>{Promise.resolve().then(s.bind(s,3999))},3999:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(326),a=s(7577),i=s(5047),l=s(8129),n=s(58),c=s(6557);let o=(0,c.Z)("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);var d=s(941);let x=(0,c.Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),h=(0,c.Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);var m=s(4022),u=s(4019);function p({onClose:e,isMobile:t}){let s=(0,i.useRouter)(),l=(0,i.useSearchParams)(),{categories:n,loading:c}=function(e=!1){let[t,s]=(0,a.useState)([]),[r,i]=(0,a.useState)(!0),[l,n]=(0,a.useState)(null);return{categories:t,loading:r,error:l}}(),d=l.get("category")||"",x=l.get("brand")||"",h=l.get("minPrice")||"",m=l.get("maxPrice")||"";l.get("sort");let p="true"===l.get("onSale"),b="true"===l.get("inStock"),[f,j]=(0,a.useState)({categories:!0,price:!0,brands:!1,availability:!1}),[v,w]=(0,a.useState)(h),[N,k]=(0,a.useState)(m),S=e=>{j(t=>({...t,[e]:!t[e]}))},P=(e,t)=>{let r=new URLSearchParams(l.toString());""===t||!1===t?r.delete(e):r.set(e,String(t)),r.delete("page"),s.push(`/shop?${r.toString()}`)},C=d||x||h||m||p||b;return(0,r.jsxs)("div",{className:`space-y-6 ${t?"p-6":""}`,children:[t&&(0,r.jsxs)("div",{className:"flex items-center justify-between pb-4 border-b border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(o,{className:"w-5 h-5 text-gold"}),r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Filters"})]}),r.jsx("button",{onClick:e,className:"p-2 text-text-secondary hover:text-white transition-colors","aria-label":"Close filters",children:r.jsx(u.Z,{className:"w-5 h-5"})})]}),C&&r.jsx("button",{onClick:()=>{s.push("/shop"),e?.()},className:"text-sm text-gold hover:underline",children:"Clear All Filters"}),r.jsx(g,{title:"Categories",expanded:f.categories,onToggle:()=>S("categories"),children:c?r.jsx("div",{className:"space-y-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>r.jsx("div",{className:"h-6 bg-surface-raised rounded animate-pulse"},t))}):(0,r.jsxs)("div",{className:"space-y-1",children:[r.jsx("button",{onClick:()=>P("category",""),className:`w-full text-left py-2 px-3 rounded-lg transition-colors ${d?"text-text-secondary hover:bg-surface-raised hover:text-white":"bg-gold/10 text-gold"}`,children:"All Categories"}),n.map(e=>r.jsx(y,{category:e,currentCategory:d,onSelect:e=>P("category",e)},e.id))]})}),r.jsx(g,{title:"Price",expanded:f.price,onToggle:()=>S("price"),children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"number",placeholder:"Min",value:v,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 bg-surface-raised border border-white/10 rounded-lg text-white placeholder-text-muted focus:outline-none focus:border-gold/50"}),r.jsx("span",{className:"text-text-muted",children:"-"}),r.jsx("input",{type:"number",placeholder:"Max",value:N,onChange:e=>k(e.target.value),className:"w-full px-3 py-2 bg-surface-raised border border-white/10 rounded-lg text-white placeholder-text-muted focus:outline-none focus:border-gold/50"})]}),r.jsx("button",{onClick:()=>{let e=new URLSearchParams(l.toString());v?e.set("minPrice",v):e.delete("minPrice"),N?e.set("maxPrice",N):e.delete("maxPrice"),e.delete("page"),s.push(`/shop?${e.toString()}`)},className:"w-full btn-secondary btn-small justify-center",children:"Apply"})]})}),r.jsx(g,{title:"Brand",expanded:f.brands,onToggle:()=>S("brands"),children:r.jsx("div",{className:"space-y-1",children:["Brand A","Brand B","Brand C","Brand D"].map(e=>r.jsx("button",{onClick:()=>P("brand",x===e?"":e),className:`w-full text-left py-2 px-3 rounded-lg transition-colors ${x===e?"bg-gold/10 text-gold":"text-text-secondary hover:bg-surface-raised hover:text-white"}`,children:e},e))})}),r.jsx(g,{title:"Availability",expanded:f.availability,onToggle:()=>S("availability"),children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:b,onChange:e=>P("inStock",e.target.checked),className:"w-5 h-5 rounded border-white/20 bg-surface-raised text-gold focus:ring-gold/50"}),r.jsx("span",{className:"text-text-secondary",children:"In Stock Only"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:p,onChange:e=>P("onSale",e.target.checked),className:"w-5 h-5 rounded border-white/20 bg-surface-raised text-gold focus:ring-gold/50"}),r.jsx("span",{className:"text-text-secondary",children:"On Sale"})]})]})}),t&&r.jsx("button",{onClick:e,className:"w-full btn-primary btn-large justify-center",children:"Show Results"})]})}function g({title:e,expanded:t,onToggle:s,children:a}){return(0,r.jsxs)("div",{className:"border-b border-white/10 pb-4",children:[(0,r.jsxs)("button",{onClick:s,className:"w-full flex items-center justify-between py-2 text-white font-medium",children:[e,r.jsx(d.Z,{className:`w-4 h-4 transition-transform ${t?"rotate-180":""}`})]}),r.jsx(l.M,{initial:!1,children:t&&r.jsx(n.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:r.jsx("div",{className:"pt-3",children:a})})})]})}function y({category:e,currentCategory:t,onSelect:s,depth:i=0}){let c=e.children&&e.children.length>0,o=c&&function e(t,s){for(let r of t)if(r.slug===s||r.children&&e(r.children,s))return!0;return!1}(e.children,t),[x,h]=(0,a.useState)(!0);return(0,r.jsxs)("div",{className:i>0?"ml-3 border-l border-white/10":"",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[c?r.jsx("button",{onClick:()=>h(!x),className:"p-1 text-text-muted hover:text-white flex-shrink-0",children:r.jsx(d.Z,{className:`w-4 h-4 transition-transform ${x?"rotate-180":""}`})}):r.jsx("span",{className:"w-6"}),(0,r.jsxs)("button",{onClick:()=>s(e.slug),className:`flex-1 text-left py-2 px-2 rounded-lg transition-colors text-sm ${t===e.slug?"bg-gold/10 text-gold font-medium":o?"text-gold/70":"text-text-secondary hover:bg-surface-raised hover:text-white"}`,children:[e.name,void 0!==e.productCount&&e.productCount>0&&(0,r.jsxs)("span",{className:"ml-1 text-text-muted text-xs",children:["(",e.productCount,")"]})]})]}),r.jsx(l.M,{initial:!1,children:x&&c&&r.jsx(n.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"pl-2",children:e.children.map(e=>r.jsx(y,{category:e,currentCategory:t,onSelect:s,depth:i+1},e.id))})})]})}s(6824);var b=s(4870);let f=[{value:"newest",label:"Newest"},{value:"price-asc",label:"Price: Low to High"},{value:"price-desc",label:"Price: High to Low"},{value:"name-asc",label:"Name: A-Z"},{value:"name-desc",label:"Name: Z-A"},{value:"bestselling",label:"Best Sellers"},{value:"most-viewed",label:"Most Viewed"}];function j(){let e=(0,i.useSearchParams)(),[t,s]=(0,a.useState)("grid"),[c,u]=(0,a.useState)(!1),[g,y]=(0,a.useState)(!1),j=parseInt(e.get("page")||"1",10),v=e.get("category")||void 0,w=e.get("minPrice")?parseFloat(e.get("minPrice")):void 0,N=e.get("maxPrice")?parseFloat(e.get("maxPrice")):void 0,k=e.get("sort")||"newest",S="true"===e.get("onSale"),P="true"===e.get("inStock"),C=e.get("q")||void 0,{products:$,pagination:M,loading:E,error:_}=(0,b.rn)({page:j,limit:12,category:v,minPrice:w,maxPrice:N,sortBy:k.includes("-")?k.split("-")[0]:"newest"===k?"createdAt":k,sortOrder:k.includes("desc")?"desc":"newest"===k?"desc":"asc",onSale:S||void 0,inStock:P||void 0,search:C}),A=M?.total||0,q=M?.totalPages||Math.ceil(A/12),L=f.find(e=>e.value===k)?.label||"Newest";return(0,r.jsxs)("div",{className:"min-h-screen bg-primary",children:[r.jsx("div",{className:"bg-gradient-to-r from-surface-card to-surface-raised py-12 lg:py-20",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 lg:px-8",children:[r.jsx("h1",{className:"font-display text-4xl md:text-5xl lg:text-6xl font-semibold text-white text-center",children:C?`Results for "${C}"`:v||"Shop"}),r.jsx("p",{className:"text-text-secondary text-center mt-4 max-w-2xl mx-auto",children:"Discover our collection of miniatures, paints, and modeling accessories"})]})}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8 lg:py-12",children:(0,r.jsxs)("div",{className:"flex gap-8",children:[r.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:r.jsx("div",{className:"sticky top-24",children:r.jsx(p,{})})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[r.jsx("p",{className:"text-text-secondary",children:E?"Loading...":`${A} products found`}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("button",{onClick:()=>u(!0),className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-surface-card rounded-lg text-white hover:bg-surface-raised transition-colors",children:[r.jsx(o,{className:"w-4 h-4"}),"Filters"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),y(!g)},className:"flex items-center gap-2 px-4 py-2 bg-surface-card rounded-lg text-white hover:bg-surface-raised transition-colors",children:[L,r.jsx(d.Z,{className:`w-4 h-4 transition-transform ${g?"rotate-180":""}`})]}),r.jsx(l.M,{children:g&&r.jsx(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute right-0 top-full mt-2 w-48 bg-surface-card rounded-lg shadow-xl border border-white/10 overflow-hidden z-20",children:f.map(t=>r.jsx("a",{href:`?${new URLSearchParams({...Object.fromEntries(e.entries()),sort:t.value,page:"1"}).toString()}`,className:`block px-4 py-2 text-sm transition-colors ${k===t.value?"bg-gold/10 text-gold":"text-white hover:bg-surface-raised"}`,children:t.label},t.value))})})]}),(0,r.jsxs)("div",{className:"hidden sm:flex items-center border border-white/10 rounded-lg overflow-hidden",children:[r.jsx("button",{onClick:()=>s("grid"),className:`p-2 transition-colors ${"grid"===t?"bg-gold text-primary":"text-white hover:bg-surface-raised"}`,"aria-label":"Grid view",children:r.jsx(x,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>s("list"),className:`p-2 transition-colors ${"list"===t?"bg-gold text-primary":"text-white hover:bg-surface-raised"}`,"aria-label":"List view",children:r.jsx(h,{className:"w-5 h-5"})})]})]})]}),E?r.jsx("div",{className:`grid gap-6 ${"grid"===t?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,children:[...Array(6)].map((e,t)=>(0,r.jsxs)("div",{className:"bg-surface-card rounded-2xl overflow-hidden animate-pulse",children:[r.jsx("div",{className:"aspect-square bg-surface-raised"}),(0,r.jsxs)("div",{className:"p-4 space-y-3",children:[r.jsx("div",{className:"h-4 bg-surface-raised rounded w-3/4"}),r.jsx("div",{className:"h-4 bg-surface-raised rounded w-1/2"})]})]},t))}):_?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-error",children:_})}):0===$.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-text-secondary text-lg",children:"No products found"}),r.jsx("p",{className:"text-text-muted mt-2",children:"Try adjusting your filters"})]}):r.jsx(n.E.div,{className:`grid gap-6 ${"grid"===t?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":"grid-cols-1"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:$.map((e,t)=>r.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*t},children:r.jsx(m.I,{product:e})},e.id))}),q>1&&(0,r.jsxs)("div",{className:"flex justify-center items-center gap-2 mt-12",children:[r.jsx("a",{href:j>1?`?${new URLSearchParams({...Object.fromEntries(e.entries()),page:String(j-1)}).toString()}`:"#",className:`px-4 py-2 rounded-lg transition-colors ${1===j?"bg-surface-card text-gray-600 cursor-not-allowed":"bg-surface-card text-white hover:bg-surface-raised"}`,children:"Previous"}),r.jsx("div",{className:"hidden sm:flex items-center gap-1",children:[...Array(q)].map((t,s)=>{let a=s+1;return 1===a||a===q||a>=j-1&&a<=j+1?r.jsx("a",{href:`?${new URLSearchParams({...Object.fromEntries(e.entries()),page:String(a)}).toString()}`,className:`w-10 h-10 flex items-center justify-center rounded-lg transition-colors ${j===a?"bg-gold text-primary":"bg-surface-card text-white hover:bg-surface-raised"}`,children:a},a):a===j-2||a===j+2?r.jsx("span",{className:"px-2 text-text-muted",children:"..."},a):null})}),r.jsx("a",{href:j<q?`?${new URLSearchParams({...Object.fromEntries(e.entries()),page:String(j+1)}).toString()}`:"#",className:`px-4 py-2 rounded-lg transition-colors ${j===q?"bg-surface-card text-gray-600 cursor-not-allowed":"bg-surface-card text-white hover:bg-surface-raised"}`,children:"Next"})]})]})]})}),r.jsx(l.M,{children:c&&(0,r.jsxs)(r.Fragment,{children:[r.jsx(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>u(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden"}),r.jsx(n.E.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-y-0 left-0 w-80 bg-surface-card z-50 overflow-y-auto lg:hidden",children:r.jsx(p,{isMobile:!0,onClose:()=>u(!1)})})]})})]})}function v(){return r.jsx(a.Suspense,{fallback:r.jsx("div",{className:"min-h-screen bg-primary flex items-center justify-center",children:r.jsx("div",{className:"w-10 h-10 border-4 border-gold border-t-transparent rounded-full animate-spin"})}),children:r.jsx(j,{})})}},3101:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\drilo\workspace\ecommerce-erp\src\ecommerce-next\app\shop\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[736,44,775,611],()=>s(4898));module.exports=r})();