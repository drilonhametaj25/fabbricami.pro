"use strict";exports.id=611,exports.ids=[611],exports.modules={4022:(a,e,t)=>{t.d(e,{I:()=>b});var r=t(326),s=t(7626),n=t.n(s),o=t(7577),l=t(434),d=t(6226),i=t(5574),c=t(7427),u=t(4565),x=t(2714),m=t(8661),f=t(7863);function b({product:a,showQuickAdd:e=!0,className:t}){let[s,b]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1),[h,y]=(0,o.useState)(!1),j=(0,o.useRef)(null),v=(0,o.useRef)(null),{addItem:w}=(0,m.x)(),N=a.onSale&&a.salePrice&&a.salePrice<a.price,k=N?a.salePrice:a.price,S=N?(0,f.$Q)(a.price,a.salePrice):0,P=a.imageUrl||a.mainImageUrl||"/images/placeholder-product.svg",z=(0,o.useCallback)(a=>{if(!j.current)return;let e=j.current,t=e.getBoundingClientRect(),r=a.clientX-t.left,s=a.clientY-t.top,n=t.width/2,o=t.height/2;i.ZP.to(e,{rotateX:(s-o)/20,rotateY:(n-r)/20,duration:.3,ease:"power2.out",transformPerspective:1e3}),v.current&&i.ZP.to(v.current,{x:r-100,y:s-100,opacity:.15,duration:.3})},[]),Z=(0,o.useCallback)(()=>{b(!0),j.current&&i.ZP.to(j.current,{scale:1.02,boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3), 0 0 60px rgba(201, 162, 39, 0.1)",duration:.3,ease:"power2.out"})},[]),C=(0,o.useCallback)(()=>{b(!1),j.current&&i.ZP.to(j.current,{rotateX:0,rotateY:0,scale:1,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",duration:.5,ease:"power3.out"}),v.current&&i.ZP.to(v.current,{opacity:0,duration:.3})},[]),B=async e=>{if(e.preventDefault(),e.stopPropagation(),p)return;g(!0);let t=e.currentTarget;i.ZP.fromTo(t,{scale:1},{scale:.95,duration:.1,yoyo:!0,repeat:1});try{await w(a.id,1)}catch(a){console.error("Failed to add to cart:",a)}finally{g(!1)}};return(0,r.jsxs)("div",{ref:j,onMouseMove:z,onMouseEnter:Z,onMouseLeave:C,style:{transformStyle:"preserve-3d"},className:"jsx-fb17ab9dadda5da5 "+((0,f.cn)("product-card group relative bg-surface-card rounded-2xl overflow-hidden","transform-gpu will-change-transform",t)||""),children:[r.jsx("div",{ref:v,style:{background:"radial-gradient(circle, rgba(201, 162, 39, 0.3), transparent 70%)",filter:"blur(30px)"},className:"jsx-fb17ab9dadda5da5 absolute w-[200px] h-[200px] rounded-full pointer-events-none opacity-0 z-10"}),(0,r.jsxs)(l.default,{href:`/product/${a.slug}`,className:"block",children:[(0,r.jsxs)("div",{className:"jsx-fb17ab9dadda5da5 product-card-image relative aspect-[4/5] overflow-hidden",children:[r.jsx(d.default,{src:P,alt:a.name,fill:!0,sizes:"(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 25vw",className:"object-cover transition-transform duration-700 ease-out group-hover:scale-110",priority:!1}),r.jsx("div",{style:{background:"linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.1) 50%, transparent 60%)",transform:"translateX(-100%)",animation:s?"shine 1.5s ease-in-out infinite":"none"},className:"jsx-fb17ab9dadda5da5 absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),(0,r.jsxs)("div",{className:"jsx-fb17ab9dadda5da5 absolute top-3 left-3 flex flex-col gap-2 z-20",children:[a.isNew&&r.jsx("span",{className:"jsx-fb17ab9dadda5da5 px-3 py-1 bg-gold text-primary text-xs font-bold rounded-full shadow-lg",children:"NEW"}),N&&(0,r.jsxs)("span",{className:"jsx-fb17ab9dadda5da5 px-3 py-1 bg-red-500 text-white text-xs font-bold rounded-full shadow-lg",children:["-",S,"%"]}),!a.inStock&&r.jsx("span",{className:"jsx-fb17ab9dadda5da5 px-3 py-1 bg-surface-card/90 backdrop-blur-sm text-text-muted text-xs font-medium rounded-full",children:"Out of Stock"})]}),r.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation();let e=a.currentTarget;i.ZP.fromTo(e,{scale:1},{scale:1.3,duration:.2,yoyo:!0,repeat:1,ease:"back.out(2)"}),y(!h)},"aria-label":h?"Remove from wishlist":"Add to wishlist",className:"jsx-fb17ab9dadda5da5 "+((0,f.cn)("absolute top-3 right-3 w-10 h-10 rounded-full flex items-center justify-center transition-all z-20","bg-surface-card/80 backdrop-blur-sm",h?"text-red-500":"text-text-muted hover:text-white hover:bg-surface-hover")||""),children:r.jsx(c.Z,{className:(0,f.cn)("w-5 h-5 transition-transform",h&&"fill-current scale-110")})}),r.jsx("div",{className:"jsx-fb17ab9dadda5da5 absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e&&a.inStock&&(0,r.jsxs)("div",{className:"jsx-fb17ab9dadda5da5 absolute bottom-4 left-4 right-4 flex gap-2 translate-y-4 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500 z-20",children:[r.jsx("button",{onClick:B,disabled:p,className:"jsx-fb17ab9dadda5da5 flex-1 flex items-center justify-center gap-2 py-3 bg-gold text-primary font-medium rounded-xl hover:bg-gold-400 transition-all active:scale-95",children:p?r.jsx("span",{className:"jsx-fb17ab9dadda5da5 w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"jsx-fb17ab9dadda5da5",children:"Add"})]})}),r.jsx("span",{"aria-label":"View details",className:"jsx-fb17ab9dadda5da5 p-3 bg-white/10 backdrop-blur-sm text-white rounded-xl hover:bg-white/20 transition-colors cursor-pointer",children:r.jsx(x.Z,{className:"w-5 h-5"})})]})]}),(0,r.jsxs)("div",{className:"jsx-fb17ab9dadda5da5 p-4 relative z-10",children:[a.category&&r.jsx("p",{className:"jsx-fb17ab9dadda5da5 text-text-muted text-xs uppercase tracking-wider mb-1",children:"string"==typeof a.category?a.category:a.category.name}),r.jsx("h3",{className:"jsx-fb17ab9dadda5da5 text-white font-medium mb-2 line-clamp-2 group-hover:text-gold transition-colors duration-300",children:a.name}),(a.rating||a.averageRating)&&(0,r.jsxs)("div",{className:"jsx-fb17ab9dadda5da5 flex items-center gap-1 mb-2",children:[[1,2,3,4,5].map(e=>r.jsx("svg",{viewBox:"0 0 20 20",className:"jsx-fb17ab9dadda5da5 "+((0,f.cn)("w-4 h-4 transition-colors",e<=Math.round(Number(a.rating||a.averageRating)||0)?"text-gold fill-current":"text-text-muted")||""),children:r.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z",className:"jsx-fb17ab9dadda5da5"})},e)),(0,r.jsxs)("span",{className:"jsx-fb17ab9dadda5da5 text-text-muted text-xs ml-1",children:["(",a.reviewCount||0,")"]})]}),(0,r.jsxs)("div",{className:"jsx-fb17ab9dadda5da5 flex items-center gap-2",children:[r.jsx("span",{className:"jsx-fb17ab9dadda5da5 text-gold font-semibold text-lg",children:(0,f.T4)(k)}),N&&r.jsx("span",{className:"jsx-fb17ab9dadda5da5 text-text-muted text-sm line-through",children:(0,f.T4)(a.price)})]})]})]}),r.jsx(n(),{id:"fb17ab9dadda5da5",children:"@-webkit-keyframes shine{0%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);transform:translatex(100%)}}@-moz-keyframes shine{0%{-moz-transform:translatex(-100%);transform:translatex(-100%)}100%{-moz-transform:translatex(100%);transform:translatex(100%)}}@-o-keyframes shine{0%{-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-o-transform:translatex(100%);transform:translatex(100%)}}@keyframes shine{0%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}}"})]})}},4870:(a,e,t)=>{t.d(e,{iB:()=>o,rn:()=>n,ym:()=>l});var r=t(7577),s=t(6824);function n(a){let[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[l,d]=(0,r.useState)(null),[i,c]=(0,r.useState)(null),u=(0,r.useRef)(""),x=(0,r.useCallback)(async a=>{let r=JSON.stringify({page:a?.page??1,limit:a?.limit??12,category:a?.category,search:a?.search,minPrice:a?.minPrice,maxPrice:a?.maxPrice,inStock:a?.inStock,onSale:a?.onSale,featured:a?.featured,sortBy:a?.sortBy,sortOrder:a?.sortOrder});if(r!==u.current||!(e.length>0)){u.current=r,o(!0),d(null);try{let e=await s.hi.get("/shop/products",{page:a?.page??1,limit:a?.limit??12,category:a?.category,search:a?.search,minPrice:a?.minPrice,maxPrice:a?.maxPrice,inStock:a?.inStock,onSale:a?.onSale,featured:a?.featured,sortBy:a?.sortBy,sortOrder:a?.sortOrder});t(e.items||[]),c(e.pagination)}catch(a){d(a.message)}finally{o(!1)}}},[e.length]);return JSON.stringify(a),{products:e,loading:n,error:l,pagination:i,fetchProducts:x}}function o(a){let[e,t]=(0,r.useState)(null),[n,o]=(0,r.useState)(!!a),[l,d]=(0,r.useState)(null);return{product:e,loading:n,error:l,fetchProduct:(0,r.useCallback)(async a=>{o(!0),d(null);try{let e=await s.hi.get(`/shop/products/${a}`);t(e)}catch(a){d(a.message),t(null)}finally{o(!1)}},[])}}function l(a=8){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null);return{products:e,loading:s,error:o}}}};