(()=>{var e={};e.id=599,e.ids=[599],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5765:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>n}),t(1953),t(6434),t(5866);var a=t(3191),r=t(8716),l=t(7922),i=t.n(l),c=t(5231),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);t.d(s,d);let n=["",{children:["product",{children:["[slug]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1953)),"C:\\Users\\drilo\\workspace\\ecommerce-erp\\src\\ecommerce-next\\app\\product\\[slug]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6434)),"C:\\Users\\drilo\\workspace\\ecommerce-erp\\src\\ecommerce-next\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\drilo\\workspace\\ecommerce-erp\\src\\ecommerce-next\\app\\product\\[slug]\\page.tsx"],x="/product/[slug]/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/product/[slug]/page",pathname:"/product/[slug]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},1325:(e,s,t)=>{Promise.resolve().then(t.bind(t,8569))},8569:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>L});var a=t(326),r=t(5047),l=t(434),i=t(58),c=t(6557);let d=(0,c.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var n=t(9183),o=t(7577),x=t(6226),m=t(8129),h=t(1890);let u=(0,c.Z)("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var p=t(4019);function g({images:e,productName:s}){let[t,r]=(0,o.useState)(0),[l,c]=(0,o.useState)(!1),[d,g]=(0,o.useState)({x:50,y:50}),f=(0,o.useRef)(null),j=e.length>0?e:["/images/placeholder-product.jpg"],v=e=>{r(e)};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative aspect-square overflow-hidden rounded-2xl bg-surface-card",children:[a.jsx(m.M,{mode:"wait",children:(0,a.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},ref:f,className:"relative w-full h-full cursor-zoom-in",onMouseMove:e=>{if(!f.current)return;let s=f.current.getBoundingClientRect();g({x:(e.clientX-s.left)/s.width*100,y:(e.clientY-s.top)/s.height*100})},onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[a.jsx(x.default,{src:j[t],alt:`${s} - Image ${t+1}`,fill:!0,className:"object-contain",priority:0===t}),l&&a.jsx("div",{className:"absolute inset-0 hidden lg:block",style:{backgroundImage:`url(${j[t]})`,backgroundPosition:`${d.x}% ${d.y}%`,backgroundSize:"200%",backgroundRepeat:"no-repeat"}})]},t)}),j.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>{r(e=>0===e?j.length-1:e-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-surface-raised/80 backdrop-blur-sm flex items-center justify-center text-white hover:bg-gold transition-colors","aria-label":"Previous image",children:a.jsx(h.Z,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>{r(e=>e===j.length-1?0:e+1)},className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-surface-raised/80 backdrop-blur-sm flex items-center justify-center text-white hover:bg-gold transition-colors","aria-label":"Next image",children:a.jsx(n.Z,{className:"w-5 h-5"})})]}),a.jsx("button",{onClick:()=>c(!l),className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-surface-raised/80 backdrop-blur-sm flex items-center justify-center text-white hover:bg-gold transition-colors lg:hidden","aria-label":"Toggle zoom",children:a.jsx(u,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-3 py-1 rounded-full bg-surface-raised/80 backdrop-blur-sm text-sm text-white",children:[t+1," / ",j.length]})]}),j.length>1&&a.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2",children:j.map((e,r)=>a.jsx("button",{onClick:()=>v(r),className:`relative flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden transition-all ${r===t?"ring-2 ring-gold ring-offset-2 ring-offset-primary":"opacity-60 hover:opacity-100"}`,"aria-label":`View image ${r+1}`,children:a.jsx(x.default,{src:e,alt:`${s} thumbnail ${r+1}`,fill:!0,className:"object-cover"})},r))}),a.jsx(m.M,{children:l&&(0,a.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center lg:hidden",onClick:()=>c(!1),children:[a.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 w-10 h-10 rounded-full bg-white/10 flex items-center justify-center text-white hover:bg-white/20 transition-colors","aria-label":"Close zoom",children:a.jsx(p.Z,{className:"w-5 h-5"})}),a.jsx("div",{className:"relative w-full h-full max-w-4xl max-h-[90vh] p-4",children:a.jsx(x.default,{src:j[t],alt:`${s} - Image ${t+1}`,fill:!0,className:"object-contain"})})]})})]})}var f=t(1019),j=t(3855),v=t(7888),N=t(2933),y=t(4565),b=t(7427),w=t(4228);let k=(0,c.Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),S=(0,c.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var C=t(8661),Z=t(7670),M=t(7863);function $({product:e}){let[s,t]=(0,o.useState)(1),[r,l]=(0,o.useState)(e.variants?.[0]||null),[c,d]=(0,o.useState)(!1),[n,x]=(0,o.useState)(!1),{addItem:m}=(0,C.x)(),{isInWishlist:h,toggle:u}=(0,Z.Y)(),p=h(e.id),g=r?.onSale&&r?.salePrice,$=e.onSale&&e.salePrice,P=g||$,q=P?r?.salePrice??e.salePrice??e.price:r?.price??e.price,E=r?.price??e.price,F=P&&E>q?Math.round((1-q/E)*100):0,R=r?r.inStock:!1!==e.inStock,_=r?.stockQuantity??e.stockQuantity??999,A=R&&_>0&&_<=5,T=e=>{t(s=>{let t=s+e;return t<1?1:t>_?_:t})},I=async()=>{if(R&&!c){d(!0);try{await m(e.id,s,r?.id),x(!0),setTimeout(()=>x(!1),2e3)}catch(e){console.error("Failed to add to cart:",e)}finally{d(!1)}}};return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:e.categories?.[0]&&a.jsx("span",{className:"text-gold",children:e.categories[0].name})}),a.jsx("h1",{className:"font-display text-3xl md:text-4xl font-semibold text-white",children:e.name}),(e.reviewCount??0)>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((s,t)=>a.jsx("svg",{className:`w-5 h-5 ${t<Math.round(e.averageRating||e.rating||0)?"text-gold":"text-gray-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t))}),(0,a.jsxs)("span",{className:"text-text-secondary",children:[e.rating?.toFixed(1)," (",e.reviewCount," reviews)"]})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-3",children:[a.jsx("span",{className:"text-3xl font-semibold text-gold",children:(0,M.T4)(q)}),P&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-lg text-text-muted line-through",children:(0,M.T4)(E)}),(0,a.jsxs)("span",{className:"px-2 py-1 bg-error/20 text-error text-sm font-medium rounded",children:["-",F,"%"]})]})]}),e.shortDescription&&a.jsx("p",{className:"text-text-secondary leading-relaxed",children:e.shortDescription}),e.variants&&e.variants.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-white",children:"Variant"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.variants.map(e=>(0,a.jsxs)("button",{onClick:()=>l(e),disabled:!e.inStock,className:`px-4 py-2 rounded-lg border transition-all ${r?.id===e.id?"border-gold bg-gold/10 text-gold":e.inStock?"border-white/10 text-white hover:border-gold/50":"border-gray-700 text-gray-600 cursor-not-allowed"}`,children:[e.name,!e.inStock&&a.jsx("span",{className:"ml-2 text-xs",children:"(Out of Stock)"})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-white",children:"Quantity"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center border border-white/10 rounded-lg",children:[a.jsx("button",{onClick:()=>T(-1),disabled:s<=1,className:"p-3 text-white hover:text-gold disabled:text-gray-600 transition-colors","aria-label":"Decrease quantity",children:a.jsx(f.Z,{className:"w-4 h-4"})}),a.jsx("span",{className:"w-12 text-center text-white font-medium",children:s}),a.jsx("button",{onClick:()=>T(1),disabled:s>=_,className:"p-3 text-white hover:text-gold disabled:text-gray-600 transition-colors","aria-label":"Increase quantity",children:a.jsx(j.Z,{className:"w-4 h-4"})})]}),R?a.jsx("span",{className:`flex items-center gap-1.5 text-sm ${A?"text-warning":"text-success"}`,children:A?(0,a.jsxs)(a.Fragment,{children:[a.jsx(v.Z,{className:"w-4 h-4"}),"Only ",_," left"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.Z,{className:"w-4 h-4"}),"In Stock"]})}):(0,a.jsxs)("span",{className:"flex items-center gap-1.5 text-sm text-error",children:[a.jsx(v.Z,{className:"w-4 h-4"}),"Out of Stock"]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx(i.E.button,{onClick:I,disabled:!R||c,className:`flex-1 btn-primary btn-large justify-center ${R?"":"opacity-50 cursor-not-allowed"}`,whileTap:{scale:.98},children:c?a.jsx("span",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}):n?(0,a.jsxs)(a.Fragment,{children:[a.jsx(N.Z,{className:"w-5 h-5"}),"Added"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(y.Z,{className:"w-5 h-5"}),R?"Add to Cart":"Unavailable"]})}),a.jsx(i.E.button,{onClick:()=>{u(e.id)},className:`w-14 h-14 rounded-xl border flex items-center justify-center transition-all ${p?"border-gold bg-gold/10 text-gold":"border-white/10 text-white hover:border-gold/50 hover:text-gold"}`,whileTap:{scale:.95},"aria-label":p?"Remove from wishlist":"Add to wishlist",children:a.jsx(b.Z,{className:`w-5 h-5 ${p?"fill-current":""}`})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-white/10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 text-text-secondary",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-surface-card flex items-center justify-center",children:a.jsx(w.Z,{className:"w-5 h-5 text-gold"})}),(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("p",{className:"text-white font-medium",children:"Free Shipping"}),a.jsx("p",{children:"Orders over 50"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-text-secondary",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-surface-card flex items-center justify-center",children:a.jsx(k,{className:"w-5 h-5 text-gold"})}),(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("p",{className:"text-white font-medium",children:"Warranty"}),a.jsx("p",{children:"Authentic products"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-text-secondary",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-surface-card flex items-center justify-center",children:a.jsx(S,{className:"w-5 h-5 text-gold"})}),(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("p",{className:"text-white font-medium",children:"Easy Returns"}),a.jsx("p",{children:"30 days"})]})]})]}),e.description&&(0,a.jsxs)("div",{className:"pt-6 border-t border-white/10",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Description"}),a.jsx("div",{className:"text-text-secondary leading-relaxed prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:e.description}})]}),e.sku&&(0,a.jsxs)("p",{className:"text-sm text-text-muted",children:["SKU: ",r?.sku||e.sku]})]})}let P=(0,c.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var q=t(9635);let E=(0,c.Z)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);var F=t(6824),R=t(6016);function _({productId:e}){let[s,t]=(0,o.useState)(1),[r,l]=(0,o.useState)(!1),{reviews:c,total:d,average:n,distribution:x,loading:h,refetch:u}=function({productId:e,page:s=1,limit:t=10}){let[a,r]=(0,o.useState)([]),[l,i]=(0,o.useState)(0),[c,d]=(0,o.useState)(0),[n,x]=(0,o.useState)({}),[m,h]=(0,o.useState)(!0),[u,p]=(0,o.useState)(null);return{reviews:a,total:l,average:c,distribution:n,loading:m,error:u,refetch:(0,o.useCallback)(async()=>{if(e){h(!0),p(null);try{let a=await F.hi.get(`/shop/products/${e}/reviews`,{page:s,limit:t});a.success&&a.data&&(r(a.data.items||[]),i(a.data.total||0),d(a.data.average||0),x(a.data.distribution||{}))}catch(e){p(e instanceof Error?e.message:"Failed to fetch reviews")}finally{h(!1)}}},[e,s,t])}}({productId:e,page:s,limit:5}),{isAuthenticated:p}=(0,R.t)(),g=Math.ceil(d/5);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,a.jsxs)("h2",{className:"font-display text-2xl font-semibold text-white",children:["Reviews (",d,")"]}),p()&&a.jsx("button",{onClick:()=>l(!r),className:"btn-primary btn-medium",children:"Write a Review"})]}),d>0&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 p-6 bg-surface-card rounded-2xl",children:[a.jsx("div",{className:"flex items-center gap-6",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("span",{className:"text-5xl font-bold text-gold",children:n.toFixed(1)}),a.jsx("div",{className:"flex items-center justify-center gap-1 mt-2",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>a.jsx(P,{className:`w-5 h-5 ${s<Math.round(n)?"text-gold fill-current":"text-gray-600"}`},s))}),(0,a.jsxs)("p",{className:"text-sm text-text-secondary mt-1",children:[d," reviews"]})]})}),a.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(e=>{let s=x[e]||0,t=d>0?s/d*100:0;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-text-secondary w-3",children:e}),a.jsx(P,{className:"w-4 h-4 text-gold fill-current"}),a.jsx("div",{className:"flex-1 h-2 bg-surface-raised rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gold transition-all duration-300",style:{width:`${t}%`}})}),a.jsx("span",{className:"text-sm text-text-muted w-8",children:s})]},e)})})]}),a.jsx(m.M,{children:r&&a.jsx(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:a.jsx(T,{productId:e,onSuccess:()=>{l(!1),u()},onCancel:()=>l(!1)})})}),h?a.jsx("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"animate-pulse p-6 bg-surface-card rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-surface-raised"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-surface-raised rounded w-24 mb-2"}),a.jsx("div",{className:"h-3 bg-surface-raised rounded w-32"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-surface-raised rounded w-full"}),a.jsx("div",{className:"h-4 bg-surface-raised rounded w-3/4"})]})]},s))}):c.length>0?a.jsx("div",{className:"space-y-4",children:c.map(e=>a.jsx(A,{review:e},e.id))}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-text-secondary",children:"No reviews yet. Be the first to review this product!"})}),g>1&&a.jsx("div",{className:"flex justify-center gap-2",children:[...Array(g)].map((e,r)=>a.jsx("button",{onClick:()=>t(r+1),className:`w-10 h-10 rounded-lg transition-colors ${s===r+1?"bg-gold text-primary":"bg-surface-card text-white hover:bg-surface-raised"}`,children:r+1},r))})]})}function A({review:e}){let[s,t]=(0,o.useState)(!1),r=e.comment||"",l=r.length>300,i=e.customerName||(e.customer?.firstName&&e.customer?.lastName?`${e.customer.firstName} ${e.customer.lastName}`:"Verified Customer");return(0,a.jsxs)("div",{className:"p-6 bg-surface-card rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gold/20 flex items-center justify-center",children:a.jsx(q.Z,{className:"w-5 h-5 text-gold"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-white",children:i}),e.verified&&a.jsx("span",{className:"px-2 py-0.5 bg-success/20 text-success text-xs rounded",children:"Verified"})]}),a.jsx("span",{className:"text-sm text-text-muted",children:(0,M.p6)(e.createdAt)})]})]}),a.jsx("div",{className:"flex items-center gap-1",children:[void 0,void 0,void 0,void 0,void 0].map((s,t)=>a.jsx(P,{className:`w-4 h-4 ${t<e.rating?"text-gold fill-current":"text-gray-600"}`},t))})]}),e.title&&a.jsx("h4",{className:"font-medium text-white mb-2",children:e.title}),r&&a.jsx("p",{className:"text-text-secondary leading-relaxed",children:l&&!s?(0,a.jsxs)(a.Fragment,{children:[r.slice(0,300),"...",a.jsx("button",{onClick:()=>t(!0),className:"ml-2 text-gold hover:underline",children:"Read more"})]}):r}),a.jsx("div",{className:"flex items-center gap-4 mt-4 pt-4 border-t border-white/5",children:(0,a.jsxs)("button",{className:"flex items-center gap-2 text-sm text-text-secondary hover:text-gold transition-colors",children:[a.jsx(E,{className:"w-4 h-4"}),"Helpful (",e.helpfulCount??e.helpful??0,")"]})})]})}function T({productId:e,onSuccess:s,onCancel:t}){let[r,l]=(0,o.useState)(5),[i,c]=(0,o.useState)(""),[d,n]=(0,o.useState)(""),[x,m]=(0,o.useState)(0),{createReview:h,loading:u,error:p}=function(e){let[s,t]=(0,o.useState)(!1),[a,r]=(0,o.useState)(null);return{createReview:async s=>{t(!0),r(null);try{let t=await F.hi.post(`/shop/products/${e}/reviews`,s);if(t.success)return t.data;throw Error("Failed to create review")}catch(e){throw r(e instanceof Error?e.message:"Failed to create review"),e}finally{t(!1)}},loading:s,error:a}}(e),g=async e=>{if(e.preventDefault(),d.trim())try{await h({rating:r,title:i,comment:d}),s()}catch{}};return(0,a.jsxs)("form",{onSubmit:g,className:"p-6 bg-surface-card rounded-2xl space-y-6",children:[a.jsx("h3",{className:"font-display text-xl font-semibold text-white",children:"Write a Review"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-white",children:"Your Rating"}),a.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(e=>a.jsx("button",{type:"button",onClick:()=>l(e),onMouseEnter:()=>m(e),onMouseLeave:()=>m(0),className:"p-1",children:a.jsx(P,{className:`w-8 h-8 transition-colors ${e<=(x||r)?"text-gold fill-current":"text-gray-600"}`})},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"review-title",className:"text-sm font-medium text-white",children:"Title (optional)"}),a.jsx("input",{id:"review-title",type:"text",value:i,onChange:e=>c(e.target.value),placeholder:"Summarize your experience",className:"w-full px-4 py-3 bg-surface-raised border border-white/10 rounded-lg text-white placeholder-text-muted focus:outline-none focus:border-gold/50"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"review-comment",className:"text-sm font-medium text-white",children:"Your Review"}),a.jsx("textarea",{id:"review-comment",value:d,onChange:e=>n(e.target.value),placeholder:"Share your experience with this product...",rows:4,required:!0,className:"w-full px-4 py-3 bg-surface-raised border border-white/10 rounded-lg text-white placeholder-text-muted focus:outline-none focus:border-gold/50 resize-none"})]}),p&&a.jsx("p",{className:"text-sm text-error",children:p}),(0,a.jsxs)("div",{className:"flex gap-4",children:[a.jsx("button",{type:"submit",disabled:u||!d.trim(),className:"btn-primary btn-medium flex-1 justify-center",children:u?a.jsx("span",{className:"w-5 h-5 border-2 border-primary border-t-transparent rounded-full animate-spin"}):"Submit Review"}),a.jsx("button",{type:"button",onClick:t,className:"btn-secondary btn-medium",children:"Cancel"})]})]})}var I=t(4022),z=t(4870);function L(){let e=(0,r.useParams)().slug,{product:s,loading:t,error:c}=(0,z.iB)(e),{products:o,loading:x}=(0,z.ym)(4);if(t)return a.jsx("div",{className:"min-h-screen bg-primary pt-28",children:a.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-4 bg-surface-raised rounded w-64 mb-8"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[a.jsx("div",{className:"aspect-square bg-surface-card rounded-2xl"}),(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-4 bg-surface-raised rounded w-32"}),a.jsx("div",{className:"h-10 bg-surface-raised rounded w-3/4"}),a.jsx("div",{className:"h-8 bg-surface-raised rounded w-24"}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-surface-raised rounded w-full"}),a.jsx("div",{className:"h-4 bg-surface-raised rounded w-5/6"}),a.jsx("div",{className:"h-4 bg-surface-raised rounded w-4/6"})]}),a.jsx("div",{className:"h-14 bg-surface-raised rounded"})]})]})]})})});if(c||!s)return a.jsx("div",{className:"min-h-screen bg-primary pt-28 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"font-display text-3xl font-semibold text-white mb-4",children:"Product Not Found"}),a.jsx("p",{className:"text-text-secondary mb-8",children:"The product you are looking for does not exist or has been removed."}),(0,a.jsxs)(l.default,{href:"/shop",className:"btn-primary btn-large",children:[a.jsx(d,{className:"w-5 h-5"}),"Back to Shop"]})]})});let m=s.categories?.[0];return a.jsx("div",{className:"min-h-screen bg-primary pt-28",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[(0,a.jsxs)("nav",{className:"flex items-center gap-2 text-sm mb-8 overflow-x-auto whitespace-nowrap",children:[a.jsx(l.default,{href:"/",className:"text-text-secondary hover:text-gold transition-colors",children:"Home"}),a.jsx(n.Z,{className:"w-4 h-4 text-text-muted flex-shrink-0"}),a.jsx(l.default,{href:"/shop",className:"text-text-secondary hover:text-gold transition-colors",children:"Shop"}),m&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.Z,{className:"w-4 h-4 text-text-muted flex-shrink-0"}),a.jsx(l.default,{href:`/shop?category=${m.slug}`,className:"text-text-secondary hover:text-gold transition-colors",children:m.name})]}),a.jsx(n.Z,{className:"w-4 h-4 text-text-muted flex-shrink-0"}),a.jsx("span",{className:"text-gold truncate",children:s.name})]}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12",children:[a.jsx(g,{images:s.images?.map(e=>"string"==typeof e?e:e.url)||(s.imageUrl?[s.imageUrl]:[]),productName:s.name}),a.jsx($,{product:s})]}),a.jsx(i.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mt-16 lg:mt-24",children:a.jsx(_,{productId:s.id})}),(0,a.jsxs)(i.E.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mt-16 lg:mt-24",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h2",{className:"font-display text-2xl md:text-3xl font-semibold text-white",children:"You May Also Like"}),a.jsx(l.default,{href:"/shop",className:"text-gold hover:underline hidden sm:block",children:"View All"})]}),x?a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"bg-surface-card rounded-2xl overflow-hidden animate-pulse",children:[a.jsx("div",{className:"aspect-square bg-surface-raised"}),(0,a.jsxs)("div",{className:"p-4 space-y-3",children:[a.jsx("div",{className:"h-4 bg-surface-raised rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-surface-raised rounded w-1/2"})]})]},s))}):a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:o.filter(e=>e.id!==s.id).slice(0,4).map(e=>a.jsx(I.I,{product:e},e.id))})]})]})})}},7888:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1890:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},9183:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4228:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(6557).Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},1953:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\drilo\workspace\ecommerce-erp\src\ecommerce-next\app\product\[slug]\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[736,44,775,611],()=>t(5765));module.exports=a})();