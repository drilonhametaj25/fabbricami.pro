# ============================================
# EcommerceERP - Environment Configuration
# ============================================
# Copia questo file in .env e modifica i valori
# ============================================

# ---- ENVIRONMENT ----
NODE_ENV=development
PORT=3000
API_VERSION=v1
APP_URL=http://localhost:5173

# ---- DATABASE ----
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/ecommerce_erp?schema=public
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=ecommerce_erp
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# ---- REDIS ----
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# ---- JWT AUTH ----
# IMPORTANTE: Genera chiavi sicure per produzione!
# Usa: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ---- WORDPRESS/WOOCOMMERCE ----
WORDPRESS_URL=https://example.com
WORDPRESS_API_KEY=ck_your_consumer_key
WORDPRESS_CONSUMER_SECRET=cs_your_consumer_secret
WORDPRESS_WEBHOOK_SECRET=your-webhook-secret
WORDPRESS_SYNC_ENABLED=false
WORDPRESS_SYNC_INTERVAL=300000

# ---- SDI FATTURAZIONE ELETTRONICA ----
# Provider: aruba, sogei (default: aruba)
SDI_PROVIDER=aruba

# Aruba SDI Credentials
ARUBA_SDI_USERNAME=your-aruba-username
ARUBA_SDI_PASSWORD=your-aruba-password
ARUBA_SDI_ENDPOINT=https://fatturapa.aruba.it/apife
ARUBA_SDI_SANDBOX=true

# Storage paths per XML e PDF fatture
SDI_XML_PATH=./storage/sdi/xml
SDI_PDF_PATH=./storage/sdi/pdf

# ---- EMAIL (SMTP) ----
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-password
SMTP_FROM=noreply@ecommerceerp.com

# ---- COMPANY INFO ----
COMPANY_NAME=EcommerceERP
COMPANY_ADDRESS=Via Example 123, 00100 Roma
COMPANY_TAX_ID=IT12345678901
COMPANY_PHONE=+39 06 1234567
COMPANY_EMAIL=info@ecommerceerp.com
COMPANY_LOGO=https://ecommerceerp.com/logo.png
EMAIL_PRIMARY_COLOR=#2563eb

# ---- BARCODE SCANNER ----
BARCODE_WEBSOCKET_PORT=3001

# ---- FILE UPLOAD ----
MAX_FILE_SIZE=10485760
UPLOAD_DIR=/app/uploads

# ---- LOGGING ----
LOG_LEVEL=debug
ELASTICSEARCH_NODE=http://elasticsearch:9200

# ---- RATE LIMITING ----
RATE_LIMIT_MAX=100
RATE_LIMIT_TIMEWINDOW=60000

# ---- OVERHEAD ALLOCATION ----
OVERHEAD_ALLOCATION_METHOD=labor_hours

# ---- MONITORING ----
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=true
GRAFANA_ADMIN_PASSWORD=admin

# ---- BACKUP ----
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_S3_REGION=eu-central-1
BACKUP_WEBHOOK_URL=

# ---- ALLOWED ORIGINS (production) ----
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:3001

# ---- FRONTEND ----
VITE_API_URL=http://localhost:3000
VITE_WS_URL=ws://localhost:3001

# ---- E-COMMERCE FRONTEND ----
FRONTEND_URL=http://localhost:3001

# ============================================
# E-COMMERCE / PAYMENTS
# ============================================

# ---- STRIPE ----
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# ---- PAYPAL ----
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_MODE=sandbox
PAYPAL_WEBHOOK_ID=your-webhook-id

# ============================================
# NEWSLETTER (MAILCHIMP)
# ============================================

MAILCHIMP_API_KEY=your-mailchimp-api-key
MAILCHIMP_SERVER_PREFIX=us1
MAILCHIMP_LIST_ID=your-list-id
MAILCHIMP_INTEREST_PROMOTIONS=interest-id-promotions
MAILCHIMP_INTEREST_NEWS=interest-id-news
MAILCHIMP_INTEREST_NEW_PRODUCTS=interest-id-new-products

# ============================================
# SHIPPING CARRIERS
# ============================================

# ---- GLS ----
GLS_API_URL=https://gls-group.eu/IT/it/api
GLS_CUSTOMER_ID=your-gls-customer-id
GLS_API_KEY=your-gls-api-key

# ---- BRT ----
BRT_API_URL=https://api.brt.it
BRT_CUSTOMER_CODE=your-brt-code
BRT_API_KEY=your-brt-api-key

# ---- DHL EXPRESS ----
DHL_API_URL=https://express.api.dhl.com
DHL_ACCOUNT_NUMBER=your-dhl-account
DHL_API_KEY=your-dhl-api-key
DHL_API_SECRET=your-dhl-secret

# ============================================
# PRODUZIONE - Checklist Sicurezza
# ============================================
# [ ] Cambiare tutti i secret/password
# [ ] Abilitare SSL/TLS
# [ ] Configurare backup automatici
# [ ] Impostare rate limiting appropriato
# [ ] Configurare CORS correttamente
# [ ] Abilitare audit logging
# [ ] Configurare alerting Grafana
# ============================================
